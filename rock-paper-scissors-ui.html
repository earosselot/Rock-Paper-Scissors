<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors</title>

</head>
<body>
    <button id='rock'>Rock</button>
    <button id='paper'>Paper</button>
    <button id='scissors'>Scissors</button>
    
    <div id='results'></div>
    <div id='running-score'></div>

    <script>

        const resultsDiv = document.querySelector('#results');
        const runningScoreDiv = document.querySelector('#running-score');

        function computerPlay() {
            const number = Math.trunc(Math.random()*3);
            let computer
            if (number === 0) {
                computer = 'rock';
            } else if (number === 1) {
                computer = 'paper';
            } else {
                computer = 'scissors'
            }
            return computer
        }


        function playRound(playerSelection, computerSelection) {
            let win = 2;
            playerSelection = playerSelection.toLowerCase();
            if (playerSelection != computerSelection) {
                if (playerSelection === 'rock') {
                    if (computerSelection === 'paper'){
                        win = 0;
                    } else {
                        win = 1;
                    }
                } else if (playerSelection === 'paper') {
                    if (computerSelection === 'scissors') {
                        win = 0;
                    } else {
                        win = 1;
                    }
                } else {
                    if (computerSelection === 'rock') {
                        win = 0;
                    } else {
                        win = 1;
                    }
                }
            }
            console.log(win)
            return win
        }


        let playerScore = 0;
        let computerScore = 0;
        let result = 2;
        console.log('1');
        

        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            
            button.addEventListener('click', () => {
                let playerSelection = button.getAttribute('id');    
                console.log(playerSelection);
                let computerSelection = computerPlay();
                console.log(computerSelection);
                result = playRound(playerSelection, computerSelection);

                        
                if (result === 1) {
                    playerScore += 1;
                    resultsDiv.textContent = 'player wins the round';
                } else if (result === 0) {
                    computerScore += 1;
                    resultsDiv.textContent = 'computer wins the round';
                }

                runningScoreDiv.textContent = `playerScore: ${playerScore}, computerScore: ${computerScore}`

                        
                if (playerScore === 5) {
                    resultsDiv.textContent = 'player wins the game!';
                } else if (computerScore === 5) {
                    resultsDiv.textContent = 'computer wins the game!';
                }   

            })
        })
        
    </script>
</body>
</html>